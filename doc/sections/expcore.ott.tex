% generated by Ott 0.25 from: expcore.ott srclang.ott cocpts.ott
\newcommand{\ottdrule}[4][]{{\displaystyle\frac{\begin{array}{l}#2\end{array}}{#3}\quad\ottdrulename{#4}}}
\newcommand{\ottusedrule}[1]{\[#1\]}
\newcommand{\ottpremise}[1]{ #1 \\}
\newenvironment{ottdefnblock}[3][]{ \framebox{\mbox{#2}} \quad #3 \\[0pt]}{}
\newenvironment{ottfundefnblock}[3][]{ \framebox{\mbox{#2}} \quad #3 \\[0pt]\begin{displaymath}\begin{array}{l}}{\end{array}\end{displaymath}}
\newcommand{\ottfunclause}[2]{ #1 \equiv #2 \\}
\newcommand{\ottnt}[1]{\mathit{#1}}
\newcommand{\ottmv}[1]{\mathit{#1}}
\newcommand{\ottkw}[1]{\mathbf{#1}}
\newcommand{\ottsym}[1]{#1}
\newcommand{\ottcom}[1]{\text{#1}}
\newcommand{\ottdrulename}[1]{\textsc{#1}}
\newcommand{\ottcomplu}[5]{\overline{#1}^{\,#2\in #3 #4 #5}}
\newcommand{\ottcompu}[3]{\overline{#1}^{\,#2<#3}}
\newcommand{\ottcomp}[2]{\overline{#1}^{\,#2}}
\newcommand{\ottgrammartabular}[1]{\begin{supertabular}{llcllllll}#1\end{supertabular}}
\newcommand{\ottmetavartabular}[1]{\begin{supertabular}{ll}#1\end{supertabular}}
\newcommand{\ottrulehead}[3]{$#1$ & & $#2$ & & & \multicolumn{2}{l}{#3}}
\newcommand{\ottprodline}[6]{& & $#1$ & $#2$ & $#3 #4$ & $#5$ & $#6$}
\newcommand{\ottfirstprodline}[6]{\ottprodline{#1}{#2}{#3}{#4}{#5}{#6}}
\newcommand{\ottlongprodline}[2]{& & $#1$ & \multicolumn{4}{l}{$#2$}}
\newcommand{\ottfirstlongprodline}[2]{\ottlongprodline{#1}{#2}}
\newcommand{\ottbindspecprodline}[6]{\ottprodline{#1}{#2}{#3}{#4}{#5}{#6}}
\newcommand{\ottprodnewline}{\\}
\newcommand{\ottinterrule}{\\[5.0mm]}
\newcommand{\ottafterlastrule}{\\}
  \newcommand{\labeledjudge}[1]{\vdash_{\!\!\mathsf{#1} } }
  \newcommand{\kw}[1]{\mathsf{#1} }

\newcommand{\ottmetavars}{
\ottmetavartabular{
 $ \ottmv{x} ,\, \ottmv{y} ,\, \ottmv{z} ,\, \ottmv{d} ,\, \ottmv{X} ,\, \ottmv{D} ,\, \ottmv{K} ,\, \ottmv{N} ,\, \ottmv{R} ,\, \theta ,\, \alpha ,\, b ,\, n $ & \ottcom{Variable names} \\
 $ \ottmv{i} ,\, \ottmv{j} ,\, \ottmv{n} ,\, \ottmv{m} $ & \ottcom{Index variables} \\
}}

\newcommand{\otte}{
\ottrulehead{\ottnt{e}  ,\ \tau  ,\ \sigma}{::=}{\ottcom{Expressions}}\ottprodnewline
\ottfirstprodline{|}{\ottmv{x}}{}{}{}{\ottcom{Variable}}\ottprodnewline
\ottprodline{|}{\star}{}{}{}{\ottcom{Type of types}}\ottprodnewline
\ottprodline{|}{\ottnt{e_{{\mathrm{1}}}} \, \ottnt{e_{{\mathrm{2}}}}}{}{}{}{\ottcom{Application}}\ottprodnewline
\ottprodline{|}{\lambda  \ottmv{x}  \ottsym{:}  \tau  \ottsym{.}  \ottnt{e}}{}{}{}{\ottcom{Abstraction}}\ottprodnewline
\ottprodline{|}{\Pi \, \ottmv{x}  \ottsym{:}  \tau  \ottsym{.}  \sigma}{}{}{}{\ottcom{Product}}\ottprodnewline
\ottprodline{|}{\kw{cast}^{\uparrow} \, \ottsym{[}  \tau  \ottsym{]} \,  \ottnt{e}}{}{}{}{\ottcom{Cast up by expansion}}\ottprodnewline
\ottprodline{|}{\kw{cast}_{\downarrow} \, \ottnt{e}}{}{}{}{\ottcom{Cast down by reduction}}\ottprodnewline
\ottprodline{|}{\mu \, \ottmv{x}  \ottsym{:}  \tau  \ottsym{.}  \ottnt{e}}{}{}{}{\ottcom{General recursion}}}

\newcommand{\ottlit}{
\ottrulehead{\ottnt{lit}}{::=}{}}

\newcommand{\otts}{
\ottrulehead{\star  ,\ \star}{::=}{\ottcom{Sorts}}\ottprodnewline
\ottfirstprodline{|}{\star}{}{}{}{\ottcom{Star}}}

\newcommand{\ottG}{
\ottrulehead{\Gamma}{::=}{\ottcom{Contexts}}\ottprodnewline
\ottfirstprodline{|}{\varnothing}{}{}{}{\ottcom{Empty}}\ottprodnewline
\ottprodline{|}{\Gamma  \ottsym{,}  \ottmv{x}  \ottsym{:}  \tau}{}{}{}{\ottcom{Variable binding}}}

\newcommand{\ottv}{
\ottrulehead{\ottnt{v}}{::=}{\ottcom{Values}}\ottprodnewline
\ottfirstprodline{|}{\star}{}{}{}{\ottcom{Type of types}}\ottprodnewline
\ottprodline{|}{\lambda  \ottmv{x}  \ottsym{:}  \tau  \ottsym{.}  \ottnt{e}}{}{}{}{\ottcom{Abstraction}}\ottprodnewline
\ottprodline{|}{\Pi \, \ottmv{x}  \ottsym{:}  \tau_{{\mathrm{1}}}  \ottsym{.}  \tau_{{\mathrm{2}}}}{}{}{}{\ottcom{Product}}\ottprodnewline
\ottprodline{|}{\kw{cast}^{\uparrow} \, \ottsym{[}  \tau  \ottsym{]} \,  \ottnt{e}}{}{}{}{\ottcom{Cast up by expansion}}}

\newcommand{\ottec}{
\ottrulehead{e  ,\ \tau  ,\ \sigma}{::=}{\ottcom{Expressions}}\ottprodnewline
\ottfirstprodline{|}{\ottmv{x}}{}{}{}{\ottcom{Variable}}\ottprodnewline
\ottprodline{|}{\star}{}{}{}{\ottcom{Type of types}}\ottprodnewline
\ottprodline{|}{e_{{\mathrm{1}}} \, e_{{\mathrm{2}}}}{}{}{}{\ottcom{Application}}\ottprodnewline
\ottprodline{|}{\lambda  \ottmv{x}  \ottsym{:}  \tau  \ottsym{.}  e}{}{}{}{\ottcom{Abstraction}}\ottprodnewline
\ottprodline{|}{\Pi \, \ottmv{x}  \ottsym{:}  \tau  \ottsym{.}  \sigma}{}{}{}{\ottcom{Product}}\ottprodnewline
\ottprodline{|}{\kw{cast}^{\uparrow} \, \ottsym{[}  \tau  \ottsym{]} \,  e}{}{}{}{\ottcom{Cast up by expansion}}\ottprodnewline
\ottprodline{|}{\kw{cast}_{\downarrow} \, e}{}{}{}{\ottcom{Cast down by reduction}}}

\newcommand{\ottpgm}{
\ottrulehead{\ottnt{pgm}}{::=}{\ottcom{Program}}\ottprodnewline
\ottfirstprodline{|}{\overline{  \ottnt{decl}  }  \ottsym{;}  \ottnt{E}}{}{}{}{\ottcom{Declarations}}}

\newcommand{\ottdecl}{
\ottrulehead{\ottnt{decl}}{::=}{\ottcom{Declarations}}\ottprodnewline
\ottfirstprodline{|}{\kw{data} \, \ottmv{D}  \overline{  \ottnt{u}  \ottsym{:}  \kappa  }  \ottsym{=}  \overline{  \ottmv{K}  \overline{  T  }  }}{}{}{}{\ottcom{Datatype declaration}}}

\newcommand{\ottp}{
\ottrulehead{\ottnt{p}}{::=}{\ottcom{Patterns}}\ottprodnewline
\ottfirstprodline{|}{\ottmv{K}  \overline{  \ottmv{x}  \ottsym{:}  T  }}{}{}{}{\ottcom{Pattern}}}

\newcommand{\ottu}{
\ottrulehead{\ottnt{u}  ,\ \upsilon}{::=}{\ottcom{Atoms}}\ottprodnewline
\ottfirstprodline{|}{\ottmv{x}}{}{}{}{\ottcom{Variable}}\ottprodnewline
\ottprodline{|}{\ottmv{K}}{}{}{}{\ottcom{Data constructor}}}

\newcommand{\ottE}{
\ottrulehead{\ottnt{E}  ,\ T  ,\ S  ,\ \kappa}{::=}{\ottcom{Expressions}}\ottprodnewline
\ottfirstprodline{|}{\ottnt{u}}{}{}{}{\ottcom{Atom}}\ottprodnewline
\ottprodline{|}{\star}{}{}{}{\ottcom{Type of types}}\ottprodnewline
\ottprodline{|}{\ottnt{E_{{\mathrm{1}}}} \, \ottnt{E_{{\mathrm{2}}}}}{}{}{}{\ottcom{Application}}\ottprodnewline
\ottprodline{|}{\lambda  \ottmv{x}  \ottsym{:}  T  \ottsym{.}  \ottnt{E}}{}{}{}{\ottcom{Abstraction}}\ottprodnewline
\ottprodline{|}{\Pi \, \ottmv{x}  \ottsym{:}  T_{{\mathrm{1}}}  \ottsym{.}  T_{{\mathrm{2}}}}{}{}{}{\ottcom{Product}}\ottprodnewline
\ottprodline{|}{\mu \, \ottmv{x}  \ottsym{:}  T  \ottsym{.}  \ottnt{E}}{}{}{}{\ottcom{General recursion}}\ottprodnewline
\ottprodline{|}{\kw{case} \, \ottnt{E_{{\mathrm{1}}}} \, \kw{of} \, \overline{  \ottnt{p}  \Rightarrow  \ottnt{E_{{\mathrm{2}}}}  }}{}{}{}{\ottcom{Case analysis}}\ottprodnewline
\ottprodline{|}{\kw{let} \, \ottmv{x}  \ottsym{:}  T  \ottsym{=}  \ottnt{E_{{\mathrm{2}}}} \, \kw{in} \, \ottnt{E_{{\mathrm{1}}}}}{}{}{}{\ottcom{Let binding}}}

\newcommand{\ottGs}{
\ottrulehead{\Sigma}{::=}{\ottcom{Contexts}}\ottprodnewline
\ottfirstprodline{|}{\varnothing}{}{}{}{\ottcom{Empty}}\ottprodnewline
\ottprodline{|}{\Sigma  \ottsym{,}  \ottnt{u}  \ottsym{:}  T}{}{}{}{\ottcom{Atom binding}}}

\newcommand{\ottee}{
\ottrulehead{e  ,\ \tau}{::=}{\ottcom{Expressions}}\ottprodnewline
\ottfirstprodline{|}{\ottmv{x}}{}{}{}{\ottcom{Variable}}\ottprodnewline
\ottprodline{|}{s}{}{}{}{\ottcom{Sort}}\ottprodnewline
\ottprodline{|}{e_{{\mathrm{1}}} \, e_{{\mathrm{2}}}}{}{}{}{\ottcom{Application}}\ottprodnewline
\ottprodline{|}{\lambda  \ottmv{x}  \ottsym{:}  \tau  \ottsym{.}  e}{}{}{}{\ottcom{Abstraction}}\ottprodnewline
\ottprodline{|}{\Pi \, \ottmv{x}  \ottsym{:}  \tau_{{\mathrm{1}}}  \ottsym{.}  \tau_{{\mathrm{2}}}}{}{}{}{\ottcom{Product}}}

\newcommand{\ottss}{
\ottrulehead{s  ,\ t}{::=}{\ottcom{Sorts}}\ottprodnewline
\ottfirstprodline{|}{\star}{}{}{}{\ottcom{Star}}\ottprodnewline
\ottprodline{|}{\Box}{}{}{}{\ottcom{Square}}}

\newcommand{\ottgrammar}{\ottgrammartabular{
\otte\ottinterrule
\ottlit\ottinterrule
\otts\ottinterrule
\ottG\ottinterrule
\ottv\ottinterrule
\ottec\ottinterrule
\ottpgm\ottinterrule
\ottdecl\ottinterrule
\ottp\ottinterrule
\ottu\ottinterrule
\ottE\ottinterrule
\ottGs\ottinterrule
\ottee\ottinterrule
\ottss\ottafterlastrule
}}

% defnss
% defns LintCore
%% defn ctx
\newcommand{\ottdruleEnvXXEmpty}[1]{\ottdrule[#1]{%
}{
\vdash  \varnothing}{%
{\ottdrulename{Env\_Empty}}{}%
}}


\newcommand{\ottdruleEnvXXVar}[1]{\ottdrule[#1]{%
{\vdash  \Gamma}%
\\ {\Gamma  \vdash  \tau  \ottsym{:}  \star}%
}{
\vdash  \Gamma  \ottsym{,}  \ottmv{x}  \ottsym{:}  \tau}{%
{\ottdrulename{Env\_Var}}{}%
}}

\newcommand{\ottdefnctx}[1]{\begin{ottdefnblock}[#1]{$\vdash  \Gamma$}{\ottcom{Well-formed context}}
\ottusedrule{\ottdruleEnvXXEmpty{}}
\ottusedrule{\ottdruleEnvXXVar{}}
\end{ottdefnblock}}

%% defn expr_rec
\newcommand{\ottdruleTXXMu}[1]{\ottdrule[#1]{%
{\Gamma  \ottsym{,}  \ottmv{x}  \ottsym{:}  \tau  \vdash  \ottnt{e}  \ottsym{:}  \tau}%
\\ {\Gamma  \vdash  \tau  \ottsym{:}  \star}%
}{
\Gamma  \vdash  \ottsym{(}  \mu \, \ottmv{x}  \ottsym{:}  \tau  \ottsym{.}  \ottnt{e}  \ottsym{)}  \ottsym{:}  \tau}{%
{\ottdrulename{T\_Mu}}{}%
}}

\newcommand{\ottdefnexprXXrec}[1]{\begin{ottdefnblock}[#1]{$\Gamma  \vdash  \ottnt{e}  \ottsym{:}  \tau$}{\ottcom{Expression typing}}
\ottusedrule{\ottdruleTXXMu{}}
\end{ottdefnblock}}

%% defn expr
\newcommand{\ottdruleTXXAx}[1]{\ottdrule[#1]{%
}{
\varnothing  \vdash  \star  \ottsym{:}  \star}{%
{\ottdrulename{T\_Ax}}{}%
}}


\newcommand{\ottdruleTXXVar}[1]{\ottdrule[#1]{%
{\vdash  \Gamma}%
\\ {\ottmv{x}  \ottsym{:}  \tau \, \in \, \Gamma}%
}{
\Gamma  \vdash  \ottmv{x}  \ottsym{:}  \tau}{%
{\ottdrulename{T\_Var}}{}%
}}


\newcommand{\ottdruleTXXApp}[1]{\ottdrule[#1]{%
{\Gamma  \vdash  \ottnt{e_{{\mathrm{1}}}}  \ottsym{:}  \ottsym{(}  \Pi \, \ottmv{x}  \ottsym{:}  \tau_{{\mathrm{2}}}  \ottsym{.}  \tau_{{\mathrm{1}}}  \ottsym{)}}%
\\ {\Gamma  \vdash  \ottnt{e_{{\mathrm{2}}}}  \ottsym{:}  \tau_{{\mathrm{2}}}}%
}{
\Gamma  \vdash  \ottnt{e_{{\mathrm{1}}}} \, \ottnt{e_{{\mathrm{2}}}}  \ottsym{:}  \tau_{{\mathrm{1}}}  \ottsym{[}  \ottmv{x}  \mapsto  \ottnt{e_{{\mathrm{2}}}}  \ottsym{]} \,}{%
{\ottdrulename{T\_App}}{}%
}}


\newcommand{\ottdruleTXXLam}[1]{\ottdrule[#1]{%
{\Gamma  \ottsym{,}  \ottmv{x}  \ottsym{:}  \tau_{{\mathrm{1}}}  \vdash  \ottnt{e}  \ottsym{:}  \tau_{{\mathrm{2}}}}%
\\ {\Gamma  \vdash  \ottsym{(}  \Pi \, \ottmv{x}  \ottsym{:}  \tau_{{\mathrm{1}}}  \ottsym{.}  \tau_{{\mathrm{2}}}  \ottsym{)}  \ottsym{:}  \star}%
}{
\Gamma  \vdash  \ottsym{(}  \lambda  \ottmv{x}  \ottsym{:}  \tau_{{\mathrm{1}}}  \ottsym{.}  \ottnt{e}  \ottsym{)}  \ottsym{:}  \ottsym{(}  \Pi \, \ottmv{x}  \ottsym{:}  \tau_{{\mathrm{1}}}  \ottsym{.}  \tau_{{\mathrm{2}}}  \ottsym{)}}{%
{\ottdrulename{T\_Lam}}{}%
}}


\newcommand{\ottdruleTXXPi}[1]{\ottdrule[#1]{%
{\Gamma  \vdash  \tau_{{\mathrm{1}}}  \ottsym{:}  \star}%
\\ {\Gamma  \ottsym{,}  \ottmv{x}  \ottsym{:}  \tau_{{\mathrm{1}}}  \vdash  \tau_{{\mathrm{2}}}  \ottsym{:}  \star}%
}{
\Gamma  \vdash  \ottsym{(}  \Pi \, \ottmv{x}  \ottsym{:}  \tau_{{\mathrm{1}}}  \ottsym{.}  \tau_{{\mathrm{2}}}  \ottsym{)}  \ottsym{:}  \star}{%
{\ottdrulename{T\_Pi}}{}%
}}


\newcommand{\ottdruleTXXCastUp}[1]{\ottdrule[#1]{%
{\Gamma  \vdash  \ottnt{e}  \ottsym{:}  \tau_{{\mathrm{2}}}}%
\\ {\Gamma  \vdash  \tau_{{\mathrm{1}}}  \ottsym{:}  \star}%
\\ {\tau_{{\mathrm{1}}}  \longrightarrow  \tau_{{\mathrm{2}}}}%
}{
\Gamma  \vdash  \ottsym{(}  \kw{cast}^{\uparrow} \, \ottsym{[}  \tau_{{\mathrm{1}}}  \ottsym{]} \,  \ottnt{e}  \ottsym{)}  \ottsym{:}  \tau_{{\mathrm{1}}}}{%
{\ottdrulename{T\_CastUp}}{}%
}}


\newcommand{\ottdruleTXXCastDown}[1]{\ottdrule[#1]{%
{\Gamma  \vdash  \ottnt{e}  \ottsym{:}  \tau_{{\mathrm{1}}}}%
\\ {\Gamma  \vdash  \tau_{{\mathrm{2}}}  \ottsym{:}  \star}%
\\ {\tau_{{\mathrm{1}}}  \longrightarrow  \tau_{{\mathrm{2}}}}%
}{
\Gamma  \vdash  \ottsym{(}  \kw{cast}_{\downarrow} \, \ottnt{e}  \ottsym{)}  \ottsym{:}  \tau_{{\mathrm{2}}}}{%
{\ottdrulename{T\_CastDown}}{}%
}}

\newcommand{\ottdefnexpr}[1]{\begin{ottdefnblock}[#1]{$\Gamma  \vdash  \ottnt{e}  \ottsym{:}  \tau$}{\ottcom{Expression typing}}
\ottusedrule{\ottdruleTXXAx{}}
\ottusedrule{\ottdruleTXXVar{}}
\ottusedrule{\ottdruleTXXApp{}}
\ottusedrule{\ottdruleTXXLam{}}
\ottusedrule{\ottdruleTXXPi{}}
\ottusedrule{\ottdruleTXXCastUp{}}
\ottusedrule{\ottdruleTXXCastDown{}}
\end{ottdefnblock}}


\newcommand{\ottdefnsLintCore}{
\ottdefnctx{}\ottdefnexprXXrec{}\ottdefnexpr{}}

% defns OpSem
%% defn step_rec
\newcommand{\ottdruleSXXMu}[1]{\ottdrule[#1]{%
}{
\mu \, \ottmv{x}  \ottsym{:}  \tau  \ottsym{.}  \ottnt{e}  \longrightarrow  \ottnt{e}  \ottsym{[}  \ottmv{x}  \mapsto  \mu \, \ottmv{x}  \ottsym{:}  \tau  \ottsym{.}  \ottnt{e}  \ottsym{]} \,}{%
{\ottdrulename{S\_Mu}}{}%
}}

\newcommand{\ottdefnstepXXrec}[1]{\begin{ottdefnblock}[#1]{$\ottnt{e}  \longrightarrow  \ottnt{e'}$}{\ottcom{One-step reduction}}
\ottusedrule{\ottdruleSXXMu{}}
\end{ottdefnblock}}

%% defn step
\newcommand{\ottdruleSXXBeta}[1]{\ottdrule[#1]{%
}{
\ottsym{(}  \lambda  \ottmv{x}  \ottsym{:}  \tau  \ottsym{.}  \ottnt{e_{{\mathrm{1}}}}  \ottsym{)} \, \ottnt{e_{{\mathrm{2}}}}  \longrightarrow  \ottnt{e_{{\mathrm{1}}}}  \ottsym{[}  \ottmv{x}  \mapsto  \ottnt{e_{{\mathrm{2}}}}  \ottsym{]} \,}{%
{\ottdrulename{S\_Beta}}{}%
}}


\newcommand{\ottdruleSXXCastDownUp}[1]{\ottdrule[#1]{%
}{
\kw{cast}_{\downarrow} \, \ottsym{(}  \kw{cast}^{\uparrow} \, \ottsym{[}  \tau  \ottsym{]} \,  \ottnt{e}  \ottsym{)}  \longrightarrow  \ottnt{e}}{%
{\ottdrulename{S\_CastDownUp}}{}%
}}


\newcommand{\ottdruleSXXApp}[1]{\ottdrule[#1]{%
{\ottnt{e_{{\mathrm{1}}}}  \longrightarrow  \ottnt{e'_{{\mathrm{1}}}}}%
}{
\ottnt{e_{{\mathrm{1}}}} \, \ottnt{e_{{\mathrm{2}}}}  \longrightarrow  \ottnt{e'_{{\mathrm{1}}}} \, \ottnt{e_{{\mathrm{2}}}}}{%
{\ottdrulename{S\_App}}{}%
}}


\newcommand{\ottdruleSXXCastDown}[1]{\ottdrule[#1]{%
{\ottnt{e}  \longrightarrow  \ottnt{e'}}%
}{
\kw{cast}_{\downarrow} \, \ottnt{e}  \longrightarrow  \kw{cast}_{\downarrow} \, \ottnt{e'}}{%
{\ottdrulename{S\_CastDown}}{}%
}}

\newcommand{\ottdefnstep}[1]{\begin{ottdefnblock}[#1]{$\ottnt{e}  \longrightarrow  \ottnt{e'}$}{\ottcom{One-step reduction}}
\ottusedrule{\ottdruleSXXBeta{}}
\ottusedrule{\ottdruleSXXCastDownUp{}}
\ottusedrule{\ottdruleSXXApp{}}
\ottusedrule{\ottdruleSXXCastDown{}}
\end{ottdefnblock}}


\newcommand{\ottdefnsOpSem}{
\ottdefnstepXXrec{}\ottdefnstep{}}

% defns LintSrc
%% defn ctxsrc
\newcommand{\ottdruleEnvSXXEmpty}[1]{\ottdrule[#1]{%
}{
 \labeledjudge{s}  \varnothing }{%
{\ottdrulename{EnvS\_Empty}}{}%
}}


\newcommand{\ottdruleEnvSXXVar}[1]{\ottdrule[#1]{%
{ \labeledjudge{s}  \Sigma }%
\\ { \Sigma  \labeledjudge{s}  T  :  \star }%
}{
 \labeledjudge{s}  \Sigma  \ottsym{,}  \ottmv{x}  \ottsym{:}  T }{%
{\ottdrulename{EnvS\_Var}}{}%
}}

\newcommand{\ottdefnctxsrc}[1]{\begin{ottdefnblock}[#1]{$ \labeledjudge{s}  \Sigma $}{\ottcom{Well-formed context}}
\ottusedrule{\ottdruleEnvSXXEmpty{}}
\ottusedrule{\ottdruleEnvSXXVar{}}
\end{ottdefnblock}}

%% defn pgmsrc
\newcommand{\ottdruleTSpgmXXPgm}[1]{\ottdrule[#1]{%
{\overline{   \Sigma_{{\mathrm{0}}}  \labeledjudge{s}  \ottnt{decl}  :  \Sigma'   }}%
\\ {\Sigma  \ottsym{=}  \Sigma_{{\mathrm{0}}}  \ottsym{,}  \overline{  \Sigma'  }}%
\\ { \Sigma  \labeledjudge{s}  \ottnt{E}  :  T }%
}{
 \Sigma_{{\mathrm{0}}}  \labeledjudge{s}  \ottsym{(}  \overline{  \ottnt{decl}  }  \ottsym{;}  \ottnt{E}  \ottsym{)}  :  T }{%
{\ottdrulename{TSpgm\_Pgm}}{}%
}}

\newcommand{\ottdefnpgmsrc}[1]{\begin{ottdefnblock}[#1]{$ \Sigma  \labeledjudge{s}  \ottnt{pgm}  :  T $}{\ottcom{Program context}}
\ottusedrule{\ottdruleTSpgmXXPgm{}}
\end{ottdefnblock}}

%% defn declsrc
\newcommand{\ottdruleTSdeclXXData}[1]{\ottdrule[#1]{%
{ \Sigma  \labeledjudge{s}  \ottsym{(}  \overline{  \ottnt{u}  \ottsym{:}  \kappa  }  \ottsym{)}  \rightarrow  \star  :  \star }%
\\ {\overline{   \Sigma  \ottsym{,}  \ottmv{D}  \ottsym{:}  \ottsym{(}  \overline{  \ottnt{u}  \ottsym{:}  \kappa  }  \ottsym{)}  \rightarrow  \star  \ottsym{,}  \overline{  \ottnt{u}  \ottsym{:}  \kappa  }  \labeledjudge{s}  \overline{  T  }  \rightarrow  \ottmv{D}    \overline{  \ottnt{u}  }  :  \star   }}%
}{
 \Sigma  \labeledjudge{s}  \ottsym{(}  \kw{data} \, \ottmv{D}  \overline{  \ottnt{u}  \ottsym{:}  \kappa  }  \ottsym{=}  \overline{  \ottmv{K}  \overline{  T  }  }  \ottsym{)}  :  \ottsym{(}  \ottmv{D}  \ottsym{:}  \ottsym{(}  \overline{  \ottnt{u}  \ottsym{:}  \kappa  }  \ottsym{)}  \rightarrow  \star  \ottsym{,}  \overline{  \ottmv{K}  \ottsym{:}  \ottsym{(}  \overline{  \ottnt{u}  \ottsym{:}  \kappa  }  \ottsym{)}  \rightarrow  \overline{  T  }  \rightarrow  \ottmv{D}    \overline{  \ottnt{u}  }  }  \ottsym{)} }{%
{\ottdrulename{TSdecl\_Data}}{}%
}}

\newcommand{\ottdefndeclsrc}[1]{\begin{ottdefnblock}[#1]{$ \Sigma  \labeledjudge{s}  \ottnt{decl}  :  \Sigma' $}{\ottcom{Datatype declaration}}
\ottusedrule{\ottdruleTSdeclXXData{}}
\end{ottdefnblock}}

%% defn patsrc
\newcommand{\ottdruleTpatXXAlt}[1]{\ottdrule[#1]{%
{\ottmv{K}  \ottsym{:}  \ottsym{(}  \overline{  \ottnt{u}  \ottsym{:}  \kappa  }  \ottsym{)}  \rightarrow  \overline{  S  }  \rightarrow  \ottmv{D}    \overline{  \ottnt{u}  } \, \in \, \Sigma}%
\\ { \Sigma  \ottsym{,}  \overline{  \ottmv{x}  \ottsym{:}  S  \ottsym{[}  \overline{  \ottnt{u}  \mapsto  \upsilon  }  \ottsym{]} \,  }  \labeledjudge{s}  \ottnt{E}  :  T }%
\\ { \Sigma  \labeledjudge{s}  S  \ottsym{[}  \overline{  \ottnt{u}  \mapsto  \upsilon  }  \ottsym{]} \,  :  \star }%
}{
 \Sigma  \labeledjudge{s}  \ottmv{K}  \overline{  \ottmv{x}  \ottsym{:}  S  \ottsym{[}  \overline{  \ottnt{u}  \mapsto  \upsilon  }  \ottsym{]} \,  }   \Rightarrow   \ottnt{E}  :  \ottmv{D}    \overline{  \upsilon  }   \rightarrow   T }{%
{\ottdrulename{Tpat\_Alt}}{}%
}}

\newcommand{\ottdefnpatsrc}[1]{\begin{ottdefnblock}[#1]{$ \Sigma  \labeledjudge{s}  \ottnt{p}   \Rightarrow   \ottnt{E}  :  S   \rightarrow   T $}{\ottcom{Pattern typing}}
\ottusedrule{\ottdruleTpatXXAlt{}}
\end{ottdefnblock}}

%% defn exprsrc
\newcommand{\ottdruleTSXXAx}[1]{\ottdrule[#1]{%
}{
 \varnothing  \labeledjudge{s}  \star  :  \star }{%
{\ottdrulename{TS\_Ax}}{}%
}}


\newcommand{\ottdruleTSXXVar}[1]{\ottdrule[#1]{%
{ \labeledjudge{s}  \Sigma }%
\\ {\ottmv{x}  \ottsym{:}  T \, \in \, \Sigma}%
}{
 \Sigma  \labeledjudge{s}  \ottmv{x}  :  T }{%
{\ottdrulename{TS\_Var}}{}%
}}


\newcommand{\ottdruleTSXXApp}[1]{\ottdrule[#1]{%
{ \Sigma  \labeledjudge{s}  \ottnt{E_{{\mathrm{1}}}}  :  \ottsym{(}  \Pi \, \ottmv{x}  \ottsym{:}  T_{{\mathrm{2}}}  \ottsym{.}  T_{{\mathrm{1}}}  \ottsym{)} }%
\\ { \Sigma  \labeledjudge{s}  \ottnt{E_{{\mathrm{2}}}}  :  T_{{\mathrm{2}}} }%
}{
 \Sigma  \labeledjudge{s}  \ottnt{E_{{\mathrm{1}}}} \, \ottnt{E_{{\mathrm{2}}}}  :  T_{{\mathrm{1}}}  \ottsym{[}  \ottmv{x}  \mapsto  \ottnt{E_{{\mathrm{2}}}}  \ottsym{]} \, }{%
{\ottdrulename{TS\_App}}{}%
}}


\newcommand{\ottdruleTSXXLam}[1]{\ottdrule[#1]{%
{ \Sigma  \ottsym{,}  \ottmv{x}  \ottsym{:}  T_{{\mathrm{1}}}  \labeledjudge{s}  \ottnt{E}  :  T_{{\mathrm{2}}} }%
\\ { \Sigma  \labeledjudge{s}  \ottsym{(}  \Pi \, \ottmv{x}  \ottsym{:}  T_{{\mathrm{1}}}  \ottsym{.}  T_{{\mathrm{2}}}  \ottsym{)}  :  \star }%
}{
 \Sigma  \labeledjudge{s}  \ottsym{(}  \lambda  \ottmv{x}  \ottsym{:}  T_{{\mathrm{1}}}  \ottsym{.}  \ottnt{E}  \ottsym{)}  :  \ottsym{(}  \Pi \, \ottmv{x}  \ottsym{:}  T_{{\mathrm{1}}}  \ottsym{.}  T_{{\mathrm{2}}}  \ottsym{)} }{%
{\ottdrulename{TS\_Lam}}{}%
}}


\newcommand{\ottdruleTSXXPi}[1]{\ottdrule[#1]{%
{ \Sigma  \labeledjudge{s}  T_{{\mathrm{1}}}  :  \star }%
\\ { \Sigma  \ottsym{,}  \ottmv{x}  \ottsym{:}  T_{{\mathrm{1}}}  \labeledjudge{s}  T_{{\mathrm{2}}}  :  \star }%
}{
 \Sigma  \labeledjudge{s}  \ottsym{(}  \Pi \, \ottmv{x}  \ottsym{:}  T_{{\mathrm{1}}}  \ottsym{.}  T_{{\mathrm{2}}}  \ottsym{)}  :  \star }{%
{\ottdrulename{TS\_Pi}}{}%
}}


\newcommand{\ottdruleTSXXMu}[1]{\ottdrule[#1]{%
{ \Sigma  \ottsym{,}  \ottmv{x}  \ottsym{:}  T  \labeledjudge{s}  \ottnt{E}  :  T }%
\\ { \Sigma  \labeledjudge{s}  T  :  \star }%
}{
 \Sigma  \labeledjudge{s}  \ottsym{(}  \mu \, \ottmv{x}  \ottsym{:}  T  \ottsym{.}  \ottnt{E}  \ottsym{)}  :  T }{%
{\ottdrulename{TS\_Mu}}{}%
}}


\newcommand{\ottdruleTSXXCase}[1]{\ottdrule[#1]{%
{ \Sigma  \labeledjudge{s}  \ottnt{E_{{\mathrm{1}}}}  :  S }%
\\ {\overline{   \Sigma  \labeledjudge{s}  \ottnt{p}   \Rightarrow   \ottnt{E_{{\mathrm{2}}}}  :  S   \rightarrow   T   }}%
\\ {\overline{   \Sigma  \labeledjudge{s}  S  \rightarrow  T  :  \star   }}%
}{
 \Sigma  \labeledjudge{s}  \kw{case} \, \ottnt{E_{{\mathrm{1}}}} \, \kw{of} \, \overline{  \ottnt{p}  \Rightarrow  \ottnt{E_{{\mathrm{2}}}}  }  :  T }{%
{\ottdrulename{TS\_Case}}{}%
}}


\newcommand{\ottdruleTSXXLet}[1]{\ottdrule[#1]{%
{ \Sigma  \labeledjudge{s}  \ottnt{E_{{\mathrm{2}}}}  :  T }%
\\ { \Sigma  \labeledjudge{s}  \ottnt{E_{{\mathrm{1}}}}  \ottsym{[}  \ottmv{x}  \mapsto  \ottnt{E_{{\mathrm{2}}}}  \ottsym{]} \,  :  S }%
}{
 \Sigma  \labeledjudge{s}  \kw{let} \, \ottmv{x}  \ottsym{:}  T  \ottsym{=}  \ottnt{E_{{\mathrm{2}}}} \, \kw{in} \, \ottnt{E_{{\mathrm{1}}}}  :  S }{%
{\ottdrulename{TS\_Let}}{}%
}}

\newcommand{\ottdefnexprsrc}[1]{\begin{ottdefnblock}[#1]{$ \Sigma  \labeledjudge{s}  \ottnt{E}  :  T $}{\ottcom{Expression typing}}
\ottusedrule{\ottdruleTSXXAx{}}
\ottusedrule{\ottdruleTSXXVar{}}
\ottusedrule{\ottdruleTSXXApp{}}
\ottusedrule{\ottdruleTSXXLam{}}
\ottusedrule{\ottdruleTSXXPi{}}
\ottusedrule{\ottdruleTSXXMu{}}
\ottusedrule{\ottdruleTSXXCase{}}
\ottusedrule{\ottdruleTSXXLet{}}
\end{ottdefnblock}}

%% defn pgmtrans
\newcommand{\ottdruleTRpgmXXPgm}[1]{\ottdrule[#1]{%
{\overline{   \Sigma_{{\mathrm{0}}}  \labeledjudge{s}  \ottnt{decl}  :  \Sigma'   \rightsquigarrow   \ottnt{e_{{\mathrm{1}}}}   }}%
\\ {\Sigma  \ottsym{=}  \Sigma_{{\mathrm{0}}}  \ottsym{,}  \overline{  \Sigma'  }}%
\\ { \Sigma  \labeledjudge{s}  \ottnt{E}  :  T   \rightsquigarrow   \ottnt{e} }%
}{
 \Sigma_{{\mathrm{0}}}  \labeledjudge{s}  \ottsym{(}  \overline{  \ottnt{decl}  }  \ottsym{;}  \ottnt{E}  \ottsym{)}  :  T   \rightsquigarrow   \overline{  \ottnt{e_{{\mathrm{1}}}}  }  \uplus  \ottnt{e} }{%
{\ottdrulename{TRpgm\_Pgm}}{}%
}}

\newcommand{\ottdefnpgmtrans}[1]{\begin{ottdefnblock}[#1]{$ \Sigma  \labeledjudge{s}  \ottnt{pgm}  :  T   \rightsquigarrow   \ottnt{e} $}{\ottcom{Program translation}}
\ottusedrule{\ottdruleTRpgmXXPgm{}}
\end{ottdefnblock}}

%% defn decltrans
\newcommand{\ottdruleTRdeclXXData}[1]{\ottdrule[#1]{%
{ \Sigma  \labeledjudge{s}  \ottsym{(}  \overline{  \ottnt{u}  \ottsym{:}  \kappa  }  \ottsym{)}  \rightarrow  \star  :  \star   \rightsquigarrow   \ottsym{(}  \overline{  \ottnt{u}  \ottsym{:}  \sigma  }  \ottsym{)}  \rightarrow  \star }%
\\ {\overline{   \Sigma  \ottsym{,}  \ottmv{D}  \ottsym{:}  \ottsym{(}  \overline{  \ottnt{u}  \ottsym{:}  \kappa  }  \ottsym{)}  \rightarrow  \star  \ottsym{,}  \overline{  \ottnt{u}  \ottsym{:}  \kappa  }  \labeledjudge{s}  \overline{  T  }  \rightarrow  \ottmv{D}    \overline{  \ottnt{u}  }  :  \star   \rightsquigarrow   \overline{  \tau  }  \rightarrow  \ottmv{D}    \overline{  \ottnt{u}  }   }}%
}{
 \Sigma  \labeledjudge{s}  \ottsym{(}  \kw{data} \, \ottmv{D}  \overline{  \ottnt{u}  \ottsym{:}  \kappa  }  \ottsym{=}  \overline{  \ottmv{K}  \overline{  T  }  }  \ottsym{)}  :  \ottsym{(}  \ottmv{D}  \ottsym{:}  \ottsym{(}  \overline{  \ottnt{u}  \ottsym{:}  \kappa  }  \ottsym{)}  \rightarrow  \star  \ottsym{,}  \overline{  \ottmv{K}  \ottsym{:}  \ottsym{(}  \overline{  \ottnt{u}  \ottsym{:}  \kappa  }  \ottsym{)}  \rightarrow  \overline{  T  }  \rightarrow  \ottmv{D}    \overline{  \ottnt{u}  }  }  \ottsym{)}   \rightsquigarrow   \ottnt{e} }{%
{\ottdrulename{TRdecl\_Data}}{}%
}}

\newcommand{\ottdefndecltrans}[1]{\begin{ottdefnblock}[#1]{$ \Sigma  \labeledjudge{s}  \ottnt{decl}  :  \Sigma'   \rightsquigarrow   \ottnt{e} $}{\ottcom{Datatype translation}}
\ottusedrule{\ottdruleTRdeclXXData{}}
\end{ottdefnblock}}

%% defn pattrans
\newcommand{\ottdruleTRpatXXAlt}[1]{\ottdrule[#1]{%
{\ottmv{K}  \ottsym{:}  \ottsym{(}  \overline{  \ottnt{u}  \ottsym{:}  \kappa  }  \ottsym{)}  \rightarrow  \overline{  S  }  \rightarrow  \ottmv{D}    \overline{  \ottnt{u}  } \, \in \, \Sigma}%
\\ { \Sigma  \ottsym{,}  \overline{  \ottmv{x}  \ottsym{:}  S  \ottsym{[}  \overline{  \ottnt{u}  \mapsto  \upsilon  }  \ottsym{]} \,  }  \labeledjudge{s}  \ottnt{E}  :  T   \rightsquigarrow   \ottnt{e} }%
\\ { \Sigma  \labeledjudge{s}  S  \ottsym{[}  \overline{  \ottnt{u}  \mapsto  \upsilon  }  \ottsym{]} \,  :  \star   \rightsquigarrow   \sigma }%
}{
 \Sigma  \labeledjudge{s}  \ottmv{K}  \overline{  \ottmv{x}  \ottsym{:}  S  \ottsym{[}  \overline{  \ottnt{u}  \mapsto  \upsilon  }  \ottsym{]} \,  }   \Rightarrow   \ottnt{E}  :  \ottmv{D}    \overline{  \upsilon  }   \rightarrow   T   \rightsquigarrow   \lambda  \overline{  \ottmv{x}  \ottsym{:}  \sigma  }  \ottsym{.}  \ottnt{e} }{%
{\ottdrulename{TRpat\_Alt}}{}%
}}

\newcommand{\ottdefnpattrans}[1]{\begin{ottdefnblock}[#1]{$ \Sigma  \labeledjudge{s}  \ottnt{p}   \Rightarrow   \ottnt{E}  :  S   \rightarrow   T   \rightsquigarrow   \ottnt{e} $}{\ottcom{Pattern translation}}
\ottusedrule{\ottdruleTRpatXXAlt{}}
\end{ottdefnblock}}

%% defn exprtrans
\newcommand{\ottdruleTRXXAx}[1]{\ottdrule[#1]{%
}{
 \varnothing  \labeledjudge{s}  \star  :  \star   \rightsquigarrow   \star }{%
{\ottdrulename{TR\_Ax}}{}%
}}


\newcommand{\ottdruleTRXXVar}[1]{\ottdrule[#1]{%
{ \labeledjudge{s}  \Sigma }%
\\ {\ottmv{x}  \ottsym{:}  T \, \in \, \Sigma}%
}{
 \Sigma  \labeledjudge{s}  \ottmv{x}  :  T   \rightsquigarrow   \ottmv{x} }{%
{\ottdrulename{TR\_Var}}{}%
}}


\newcommand{\ottdruleTRXXApp}[1]{\ottdrule[#1]{%
{ \Sigma  \labeledjudge{s}  \ottnt{E_{{\mathrm{1}}}}  :  \ottsym{(}  \Pi \, \ottmv{x}  \ottsym{:}  T_{{\mathrm{2}}}  \ottsym{.}  T_{{\mathrm{1}}}  \ottsym{)}   \rightsquigarrow   \ottnt{e_{{\mathrm{1}}}} }%
\\ { \Sigma  \labeledjudge{s}  \ottnt{E_{{\mathrm{2}}}}  :  T_{{\mathrm{2}}}   \rightsquigarrow   \ottnt{e_{{\mathrm{2}}}} }%
}{
 \Sigma  \labeledjudge{s}  \ottnt{E_{{\mathrm{1}}}} \, \ottnt{E_{{\mathrm{2}}}}  :  T_{{\mathrm{1}}}  \ottsym{[}  \ottmv{x}  \mapsto  \ottnt{E_{{\mathrm{2}}}}  \ottsym{]} \,   \rightsquigarrow   \ottnt{e_{{\mathrm{1}}}} \, \ottnt{e_{{\mathrm{2}}}} }{%
{\ottdrulename{TR\_App}}{}%
}}


\newcommand{\ottdruleTRXXLam}[1]{\ottdrule[#1]{%
{ \Sigma  \ottsym{,}  \ottmv{x}  \ottsym{:}  T_{{\mathrm{1}}}  \labeledjudge{s}  \ottnt{E}  :  T_{{\mathrm{2}}}   \rightsquigarrow   \ottnt{e} }%
\\ { \Sigma  \labeledjudge{s}  \ottsym{(}  \Pi \, \ottmv{x}  \ottsym{:}  T_{{\mathrm{1}}}  \ottsym{.}  T_{{\mathrm{2}}}  \ottsym{)}  :  \star   \rightsquigarrow   \Pi \, \ottmv{x}  \ottsym{:}  \tau_{{\mathrm{1}}}  \ottsym{.}  \tau_{{\mathrm{2}}} }%
}{
 \Sigma  \labeledjudge{s}  \ottsym{(}  \lambda  \ottmv{x}  \ottsym{:}  T_{{\mathrm{1}}}  \ottsym{.}  \ottnt{E}  \ottsym{)}  :  \ottsym{(}  \Pi \, \ottmv{x}  \ottsym{:}  T_{{\mathrm{1}}}  \ottsym{.}  T_{{\mathrm{2}}}  \ottsym{)}   \rightsquigarrow   \lambda  \ottmv{x}  \ottsym{:}  \tau_{{\mathrm{1}}}  \ottsym{.}  \ottnt{e} }{%
{\ottdrulename{TR\_Lam}}{}%
}}


\newcommand{\ottdruleTRXXPi}[1]{\ottdrule[#1]{%
{ \Sigma  \labeledjudge{s}  T_{{\mathrm{1}}}  :  \star   \rightsquigarrow   \tau_{{\mathrm{1}}} }%
\\ { \Sigma  \ottsym{,}  \ottmv{x}  \ottsym{:}  T_{{\mathrm{1}}}  \labeledjudge{s}  T_{{\mathrm{2}}}  :  \star   \rightsquigarrow   \tau_{{\mathrm{2}}} }%
}{
 \Sigma  \labeledjudge{s}  \ottsym{(}  \Pi \, \ottmv{x}  \ottsym{:}  T_{{\mathrm{1}}}  \ottsym{.}  T_{{\mathrm{2}}}  \ottsym{)}  :  \star   \rightsquigarrow   \Pi \, \ottmv{x}  \ottsym{:}  \tau_{{\mathrm{1}}}  \ottsym{.}  \tau_{{\mathrm{2}}} }{%
{\ottdrulename{TR\_Pi}}{}%
}}


\newcommand{\ottdruleTRXXMu}[1]{\ottdrule[#1]{%
{ \Sigma  \ottsym{,}  \ottmv{x}  \ottsym{:}  T  \labeledjudge{s}  \ottnt{E}  :  T   \rightsquigarrow   \ottnt{e} }%
\\ { \Sigma  \labeledjudge{s}  T  :  \star   \rightsquigarrow   \tau }%
}{
 \Sigma  \labeledjudge{s}  \ottsym{(}  \mu \, \ottmv{x}  \ottsym{:}  T  \ottsym{.}  \ottnt{E}  \ottsym{)}  :  T   \rightsquigarrow   \mu \, \ottmv{x}  \ottsym{:}  \tau  \ottsym{.}  \ottnt{e} }{%
{\ottdrulename{TR\_Mu}}{}%
}}


\newcommand{\ottdruleTRXXCase}[1]{\ottdrule[#1]{%
{ \Sigma  \labeledjudge{s}  \ottnt{E_{{\mathrm{1}}}}  :  S   \rightsquigarrow   \ottnt{e_{{\mathrm{1}}}} }%
\\ {\overline{   \Sigma  \labeledjudge{s}  \ottnt{p}   \Rightarrow   \ottnt{E_{{\mathrm{2}}}}  :  S   \rightarrow   T   \rightsquigarrow   \ottnt{e_{{\mathrm{2}}}}   }}%
\\ {\overline{   \Sigma  \labeledjudge{s}  S  \rightarrow  T  :  \star   \rightsquigarrow   \sigma  \rightarrow  \tau   }}%
}{
 \Sigma  \labeledjudge{s}  \kw{case} \, \ottnt{E_{{\mathrm{1}}}} \, \kw{of} \, \overline{  \ottnt{p}  \Rightarrow  \ottnt{E_{{\mathrm{2}}}}  }  :  T   \rightsquigarrow   \ottsym{(}  \kw{cast}_{\downarrow}^n \, \ottnt{e_{{\mathrm{1}}}}  \ottsym{)} \, \tau \, \overline{  \ottnt{e_{{\mathrm{2}}}}  } }{%
{\ottdrulename{TR\_Case}}{}%
}}


\newcommand{\ottdruleTRXXLet}[1]{\ottdrule[#1]{%
{ \Sigma  \labeledjudge{s}  \ottnt{E_{{\mathrm{2}}}}  :  T   \rightsquigarrow   \ottnt{e_{{\mathrm{2}}}} }%
\\ { \Sigma  \labeledjudge{s}  \ottnt{E_{{\mathrm{1}}}}  \ottsym{[}  \ottmv{x}  \mapsto  \ottnt{E_{{\mathrm{2}}}}  \ottsym{]} \,  :  S   \rightsquigarrow   \ottnt{e_{{\mathrm{1}}}}  \ottsym{[}  \ottmv{x}  \mapsto  \ottnt{e_{{\mathrm{2}}}}  \ottsym{]} \, }%
}{
 \Sigma  \labeledjudge{s}  \kw{let} \, \ottmv{x}  \ottsym{:}  T  \ottsym{=}  \ottnt{E_{{\mathrm{2}}}} \, \kw{in} \, \ottnt{E_{{\mathrm{1}}}}  :  S   \rightsquigarrow   \ottnt{e_{{\mathrm{1}}}}  \ottsym{[}  \ottmv{x}  \mapsto  \ottnt{e_{{\mathrm{2}}}}  \ottsym{]} \, }{%
{\ottdrulename{TR\_Let}}{}%
}}

\newcommand{\ottdefnexprtrans}[1]{\begin{ottdefnblock}[#1]{$ \Sigma  \labeledjudge{s}  \ottnt{E}  :  T   \rightsquigarrow   \ottnt{e} $}{\ottcom{Expression translation}}
\ottusedrule{\ottdruleTRXXAx{}}
\ottusedrule{\ottdruleTRXXVar{}}
\ottusedrule{\ottdruleTRXXApp{}}
\ottusedrule{\ottdruleTRXXLam{}}
\ottusedrule{\ottdruleTRXXPi{}}
\ottusedrule{\ottdruleTRXXMu{}}
\ottusedrule{\ottdruleTRXXCase{}}
\ottusedrule{\ottdruleTRXXLet{}}
\end{ottdefnblock}}


\newcommand{\ottdefnsLintSrc}{
\ottdefnctxsrc{}\ottdefnpgmsrc{}\ottdefndeclsrc{}\ottdefnpatsrc{}\ottdefnexprsrc{}\ottdefnpgmtrans{}\ottdefndecltrans{}\ottdefnpattrans{}\ottdefnexprtrans{}}

% defns LintCC
%% defn exprcoc
\newcommand{\ottdruleTccXXAx}[1]{\ottdrule[#1]{%
}{
\varnothing  \vdash  \star  \ottsym{:}  \Box}{%
{\ottdrulename{Tcc\_Ax}}{}%
}}


\newcommand{\ottdruleTccXXVar}[1]{\ottdrule[#1]{%
{\Gamma  \vdash  \tau  \ottsym{:}  s}%
\\ { \ottmv{x}  \not \in \kw{dom}( \Gamma ) }%
}{
\Gamma  \ottsym{,}  \ottmv{x}  \ottsym{:}  \tau  \vdash  \ottmv{x}  \ottsym{:}  \tau}{%
{\ottdrulename{Tcc\_Var}}{}%
}}


\newcommand{\ottdruleTccXXWeak}[1]{\ottdrule[#1]{%
{\Gamma  \vdash  e  \ottsym{:}  \tau_{{\mathrm{2}}}}%
\\ {\Gamma  \vdash  \tau_{{\mathrm{1}}}  \ottsym{:}  s}%
\\ { \ottmv{x}  \not \in \kw{dom}( \Gamma ) }%
}{
\Gamma  \ottsym{,}  \ottmv{x}  \ottsym{:}  \tau_{{\mathrm{1}}}  \vdash  e  \ottsym{:}  \tau_{{\mathrm{2}}}}{%
{\ottdrulename{Tcc\_Weak}}{}%
}}


\newcommand{\ottdruleTccXXApp}[1]{\ottdrule[#1]{%
{\Gamma  \vdash  e_{{\mathrm{1}}}  \ottsym{:}  \ottsym{(}  \Pi \, \ottmv{x}  \ottsym{:}  \tau_{{\mathrm{2}}}  \ottsym{.}  \tau_{{\mathrm{1}}}  \ottsym{)}}%
\\ {\Gamma  \vdash  e_{{\mathrm{2}}}  \ottsym{:}  \tau_{{\mathrm{2}}}}%
}{
\Gamma  \vdash  e_{{\mathrm{1}}} \, e_{{\mathrm{2}}}  \ottsym{:}  \tau_{{\mathrm{1}}}  \ottsym{[}  \ottmv{x}  \mapsto  e_{{\mathrm{2}}}  \ottsym{]} \,}{%
{\ottdrulename{Tcc\_App}}{}%
}}


\newcommand{\ottdruleTccXXLam}[1]{\ottdrule[#1]{%
{\Gamma  \ottsym{,}  \ottmv{x}  \ottsym{:}  \tau_{{\mathrm{1}}}  \vdash  e  \ottsym{:}  \tau_{{\mathrm{2}}}}%
\\ {\Gamma  \vdash  \ottsym{(}  \Pi \, \ottmv{x}  \ottsym{:}  \tau_{{\mathrm{1}}}  \ottsym{.}  \tau_{{\mathrm{2}}}  \ottsym{)}  \ottsym{:}  s}%
}{
\Gamma  \vdash  \ottsym{(}  \lambda  \ottmv{x}  \ottsym{:}  \tau_{{\mathrm{1}}}  \ottsym{.}  e  \ottsym{)}  \ottsym{:}  \ottsym{(}  \Pi \, \ottmv{x}  \ottsym{:}  \tau_{{\mathrm{1}}}  \ottsym{.}  \tau_{{\mathrm{2}}}  \ottsym{)}}{%
{\ottdrulename{Tcc\_Lam}}{}%
}}


\newcommand{\ottdruleTccXXPi}[1]{\ottdrule[#1]{%
{\Gamma  \vdash  \tau_{{\mathrm{1}}}  \ottsym{:}  s}%
\\ {\Gamma  \ottsym{,}  \ottmv{x}  \ottsym{:}  \tau_{{\mathrm{1}}}  \vdash  \tau_{{\mathrm{2}}}  \ottsym{:}  t}%
}{
\Gamma  \vdash  \ottsym{(}  \Pi \, \ottmv{x}  \ottsym{:}  \tau_{{\mathrm{1}}}  \ottsym{.}  \tau_{{\mathrm{2}}}  \ottsym{)}  \ottsym{:}  t}{%
{\ottdrulename{Tcc\_Pi}}{}%
}}


\newcommand{\ottdruleTccXXConv}[1]{\ottdrule[#1]{%
{\Gamma  \vdash  e  \ottsym{:}  \tau_{{\mathrm{1}}}}%
\\ {\Gamma  \vdash  \tau_{{\mathrm{2}}}  \ottsym{:}  s}%
\\ {\tau_{{\mathrm{1}}}  =_{\beta}  \tau_{{\mathrm{2}}}}%
}{
\Gamma  \vdash  e  \ottsym{:}  \tau_{{\mathrm{2}}}}{%
{\ottdrulename{Tcc\_Conv}}{}%
}}

\newcommand{\ottdefnexprcoc}[1]{\begin{ottdefnblock}[#1]{$\Gamma  \vdash  e  \ottsym{:}  \tau$}{\ottcom{Typing rules of \cc}}
\ottusedrule{\ottdruleTccXXAx{}}
\ottusedrule{\ottdruleTccXXVar{}}
\ottusedrule{\ottdruleTccXXWeak{}}
\ottusedrule{\ottdruleTccXXApp{}}
\ottusedrule{\ottdruleTccXXLam{}}
\ottusedrule{\ottdruleTccXXPi{}}
\ottusedrule{\ottdruleTccXXConv{}}
\end{ottdefnblock}}


\newcommand{\ottdefnsLintCC}{
\ottdefnexprcoc{}}

\newcommand{\ottdefnss}{
\ottdefnsLintCore
\ottdefnsOpSem
\ottdefnsLintSrc
\ottdefnsLintCC
}

\newcommand{\ottall}{\ottmetavars\\[0pt]
\ottgrammar\\[5.0mm]
\ottdefnss}

